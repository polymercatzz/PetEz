<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+Thai:wght@100..900&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body{
            font-family: "Noto Sans Thai", sans-serif;
        }
    </style>
</head>
<body>
    <%- include('../partials/user-nav') %>
    
    <section class="flex flex-col justify-start items-center h-[50vh] bg-gradient-to-b from-blue-800 to-blue-600" id="sec">
        <p class="flex flex-col justify-center items-center gap-5 my-10 text-white font-semibold">
            <span class="text-[1.3rem]">ครบทุกงานด้านสัตว์เลี้ยง มืออาชีพและปลอดภัย</span>
            <span class="text-[2rem]">บริการพี่เลี้ยงสัตว์คุณภาพสูง สำหรับสัตว์เลี้ยงที่คุณรัก</span>
            <span class="text-[1.3rem]">สะอาด ถูกสุขอนามัย ให้เจ้าของวางใจ ทุกการฝาก</span>
        </p>
        <form class="w-full flex justify-center gap-3 mb-10" method="GET" action="/user/">
            <div class="flex items-center border border-white bg-white rounded-full shadow-sm px-4 py-2 w-[30%]">
                <i class="fa-solid fa-magnifying-glass text-gray-400 mr-3"></i>
                <input name="q" value="<%= (typeof q !== 'undefined' && q) ? q : '' %>" type="text" placeholder="ค้นหาชื่อบริการที่ท่านต้องการ" class="flex-1 outline-none">
            </div>
            <div>
                <button type="submit" class="flex items-center bg-orange-500 rounded-xl text-white shadow-sm px-5 py-2 transition duration-200 ease-in-out hover:bg-orange-600 cursor-pointer">ค้นหา</button>
            </div>
        </form>
        <div class="flex justify-center items-center border rounded-xl px-4 py-3 bg-white">
            <div class="w-full grid grid-cols-7">
                <button class="cursor-pointer flex flex-col justify-center items-center">
                    <svg xmlns="http://www.w3.org/2000/svg" class="transition-transform duration-300 ease-out hover:-translate-y-1 hover:scale-100"
                        width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-house-icon lucide-house">
                        <path d="M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8"/><path d="M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/>
                    </svg>
                    <p class="flex justify-center items-center gap-3 px-3 py-2">ดูแลตามบ้าน</p>
                </button>
                <button class="cursor-pointer flex flex-col justify-center items-center">
                    <img src="../static/sleep.png" class="w-12 h-12 transition-transform duration-300 ease-out hover:-translate-y-1 hover:scale-100">
                    <p class="flex justify-center items-center gap-3 px-3 py-2">ดูแลข้ามคืน</p>
                </button>
                <button class="cursor-pointer flex flex-col justify-center items-center">
                    <img src="../static/takecare.png" class="w-12 h-12 transition-transform duration-300 ease-out hover:-translate-y-1 hover:scale-100">
                    <p class="flex justify-center items-center gap-3 px-3 py-2">ฝากเลี้ยงระหว่างวัน</p>
                </button>
                <button class="cursor-pointer flex flex-col justify-center items-center">
                    <img src="../static/train.png" class="w-12 h-12 transition-transform duration-300 ease-out hover:-translate-y-1 hover:scale-100">
                    <p class="flex justify-center items-center gap-3 px-3 py-2">ฝึกสอนสัตว์เลี้ยง</p>
                </button>
                <button class="cursor-pointer flex flex-col justify-center items-center">
                    <img src="../static/veterinarian.png" class="w-12 h-12 transition-transform duration-300 ease-out hover:-translate-y-1 hover:scale-100">
                    <p class="flex justify-center items-center gap-3 px-3 py-2">สัตวแพทย์นอกสถานที่</p>
                </button>
                <button class="cursor-pointer flex flex-col justify-center items-center">
                    <img src="../static/walking.png" class="w-12 h-12 transition-transform duration-300 ease-out hover:-translate-y-1 hover:scale-100">
                    <p class="flex justify-center items-center gap-3 px-3 py-2">รับจ้างพาเดินเล่น</p>
                </button>
                <button class="cursor-pointer flex flex-col justify-center items-center">
                    <img src="../static/shower.png" class="w-12 h-12 transition-transform duration-300 ease-out hover:-translate-y-1 hover:scale-100">
                    <p class="flex justify-center items-center gap-3 px-3 py-2">อาบน้ำตัดขน</p>
                </button>
            </div>
        </div>
    </section>

    <section class="flex flex-col justify-center items-start p-5 mx-auto w-[80%]">
        <p class="text-[3rem]">บริการทั้งหมด</p>
        <div class="flex flex-col justify-center items-start mx-auto w-full">
            <p>
                พบบริการ <%= (services && services.length) ? services.length : 0 %> รายการ
                <% if (q) { %>
                    สำหรับคำค้น "<%= q %>"
                <% } %>
            </p>
            <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-6 w-full">
                <% if (services && services.length > 0) { %>
                    <% services.forEach(function(svc) { %>
                        <div class="h-[380px] flex flex-col border border-gray-300 rounded-lg overflow-hidden bg-white transition-all duration-300 hover:shadow-[0_0_10px_rgba(0,0,0,0.25)]">
                            <img src="/static/bg1.jpg" class="w-full h-28 object-cover">
                            <p class="px-3 pt-3 font-semibold text-[1.1rem] truncate"><%= svc.service_type || svc.name || 'บริการ' %></p>
                            <p class="px-3 pt-2 text-sm text-gray-800 line-clamp-2"><%= svc.description || 'ไม่มีรายละเอียด' %></p>
                            <div class="px-3 py-3 mt-auto flex flex-col justify-start items-start gap-2 font-medium text-right">
                                <p class="text-sm text-gray-600">ราคาเริ่มต้น</p>
                                <p>
                                    <span class="text-[1.2rem] text-blue-700 font-semibold">฿<%= svc.price_per_hour || 0 %></span>
                                    <span class="text-lg text-gray-600">/ ชั่วโมง</span>
                                </p>
                            </div>
                            <div class="px-3 pb-3">
                                <a href="/user/create-booking?service_id=<%= svc.service_id %>">
                                    <button class="flex justify-center items-center w-full py-2 bg-blue-600 rounded-lg text-white text-[1.1rem] cursor-pointer hover:bg-blue-800">จองบริการนี้</button>
                                </a>
                            </div>
                        </div>
                    <% }) %>
                <% } else { %>
                    <div class="col-span-full text-center text-gray-600 py-10">ไม่มีบริการที่พร้อมให้จองในขณะนี้</div>
                <% } %>
            </div>
        </div>
    </section>
</body>
</html>