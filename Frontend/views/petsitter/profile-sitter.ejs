<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PetEz</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+Thai:wght@100..900&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body{
            font-family: "Noto Sans Thai", sans-serif;
        }
        .scroll-container {
            overflow-x: auto;
            scrollbar-width: none;
            -ms-overflow-style: none;
            cursor: grab;
        }
        .scroll-container::-webkit-scrollbar {
            display: none;
        }
        
        .scroll-container:active {
            cursor: grabbing;
        }
    </style>
</head>
<body>
    <%- include('../partials/petsitter-nav') %>

    <div class="grid grid-cols-2 gap-5 w-[80%] mx-auto mt-10 mb-5">
        <div class="flex flex-col justify-start items-start p-5 w-full border border-gray-200 rounded-xl transition duration-300 ease-in-out shadow-sm hover:border-[#3b5bdb] hover:shadow-[0_8px_20px_rgba(37,99,235,0.4)]">
            <h1 class="flex justify-center items-center gap-3 text-[1.7rem] text-blue-800 font-bold py-2 mb-5">
                <i class="fa-solid fa-user"></i>
                <span>ข้อมูลส่วนตัว</span>
            </h1>
            <div class="w-full mb-4">
                <label for="" class="flex items-center gap-3 text-lg">ชื่อ - นามสกุล</label>
                <input type="text" value="<%= (user && (user.full_name || (user.firstName ? (user.firstName + ' ' + (user.lastName||'')) : ''))) || '' %>" class="w-full border-2 border-[#e2e8f0] rounded-2xl text-[1rem] px-5 py-2 transition duration-300 ease-in-out focus:outline-none focus:border-[#3b5bdb] focus:shadow-[0_0_0_4px_rgba(59,91,219,0.1)]" />
            </div>
            <div class="grid grid-cols-2 gap-5 w-full mb-4">
                <div class="w-full">
                    <label for="" class="flex items-center gap-3 text-lg">เบอร์โทร</label>
                    <input type="text" value="<%= user && user.phone ? user.phone : '' %>" class="w-full border-2 border-[#e2e8f0] rounded-2xl text-[1rem] px-5 py-2 transition duration-300 ease-in-out focus:outline-none focus:border-[#3b5bdb] focus:shadow-[0_0_0_4px_rgba(59,91,219,0.1)]" />
                </div>
                <div class="w-full">
                    <label for="" class="flex items-center gap-3 text-lg">Email</label>
                    <input type="email" value="<%= user && user.email ? user.email : '' %>" class="w-full border-2 border-[#e2e8f0] rounded-2xl text-[1rem] px-5 py-2 transition duration-300 ease-in-out focus:outline-none focus:border-[#3b5bdb] focus:shadow-[0_0_0_4px_rgba(59,91,219,0.1)]" />
                </div>
            </div>
            <div class="w-full mb-4">
                <label for="" class="flex items-center gap-3 text-lg">ที่อยู่</label>
                <textarea class="w-full border-2 border-[#e2e8f0] rounded-2xl text-[1rem] px-5 py-2 transition duration-300 ease-in-out focus:outline-none focus:border-[#3b5bdb] focus:shadow-[0_0_0_4px_rgba(59,91,219,0.1)]"><%= user && user.address ? user.address : '' %></textarea>
            </div>
            <div class="grid grid-cols-2 gap-5 w-full mb-4">
                <div class="w-full">
                    <label for="" class="flex items-center gap-3 text-lg">แขวง/อำเภอ</label>
                    <input type="text" value="<%= user && user.district ? user.district : '' %>" class="w-full border-2 border-[#e2e8f0] rounded-2xl text-[1rem] px-5 py-2 transition duration-300 ease-in-out focus:outline-none focus:border-[#3b5bdb] focus:shadow-[0_0_0_4px_rgba(59,91,219,0.1)]" />
                </div>
                <div class="w-full">
                    <label for="" class="flex items-center gap-3 text-lg">จังหวัด</label>
                    <input type="text" value="<%= user && user.province ? user.province : '' %>" class="w-full border-2 border-[#e2e8f0] rounded-2xl text-[1rem] px-5 py-2 transition duration-300 ease-in-out focus:outline-none focus:border-[#3b5bdb] focus:shadow-[0_0_0_4px_rgba(59,91,219,0.1)]" />
                </div>
                <div class="w-full">
                    <label for="" class="flex items-center gap-3 text-lg">รหัสไปรษณีย์</label>
                    <input type="text" value="<%= user && user.postal_code ? user.postal_code : '' %>" class="w-full border-2 border-[#e2e8f0] rounded-2xl text-[1rem] px-5 py-2 transition duration-300 ease-in-out focus:outline-none focus:border-[#3b5bdb] focus:shadow-[0_0_0_4px_rgba(59,91,219,0.1)]" />
                </div>
                <div class="w-full">
                    <label for="" class="flex items-center gap-3 text-lg">ID Line</label>
                    <input type="text" class="w-full border-2 border-[#e2e8f0] rounded-2xl text-[1rem] px-5 py-2 transition duration-300 ease-in-out focus:outline-none focus:border-[#3b5bdb] focus:shadow-[0_0_0_4px_rgba(59,91,219,0.1)]" />
                </div>
            </div>
            <button class="text-[1.3rem] text-white rounded-xl px-10 py-2 shadow-sm bg-blue-600 transition duration-200 ease-in-out cursor-pointer hover:bg-blue-800">
                <i class="fa-solid fa-floppy-disk mr-2"></i>
                บันทึกข้อมูล
            </button>
        </div>
        <div class="flex flex-col justify-start items-start p-5 w-full border border-gray-200 rounded-xl transition duration-300 ease-in-out shadow-sm hover:border-[#3b5bdb] hover:shadow-[0_8px_20px_rgba(37,99,235,0.4)]">
            <h1 class="flex justify-center items-center gap-3 text-[1.7rem] text-blue-800 font-bold py-2 mb-5">
                <i class="fa-solid fa-lock"></i>
                <span>แก้ไขรหัสผ่าน</span>
            </h1>
            <div class="w-full mb-4">
                <label for="" class="flex items-center gap-3 text-lg">รหัสผ่านปัจจุบัน</label>
                <input type="password" class="w-full border-2 border-[#e2e8f0] rounded-2xl text-[1rem] px-5 py-2 transition duration-300 ease-in-out focus:outline-none focus:border-[#3b5bdb] focus:shadow-[0_0_0_4px_rgba(59,91,219,0.1)]" />
            </div>
            <div class="w-full mb-4">
                <label for="" class="flex items-center gap-3 text-lg">รหัสผ่านใหม่</label>
                <input type="password" class="w-full border-2 border-[#e2e8f0] rounded-2xl text-[1rem] px-5 py-2 transition duration-300 ease-in-out focus:outline-none focus:border-[#3b5bdb] focus:shadow-[0_0_0_4px_rgba(59,91,219,0.1)]" />
            </div>
            <div class="w-full mb-4">
                <label for="" class="flex items-center gap-3 text-lg">ยืนยันรหัสผ่านใหม่</label>
                <input type="password" class="w-full border-2 border-[#e2e8f0] rounded-2xl text-[1rem] px-5 py-2 transition duration-300 ease-in-out focus:outline-none focus:border-[#3b5bdb] focus:shadow-[0_0_0_4px_rgba(59,91,219,0.1)]" />
            </div>
            <button class="text-[1.3rem] text-white rounded-xl px-10 py-2 shadow-sm bg-blue-600 transition duration-200 ease-in-out cursor-pointer hover:bg-blue-800">
                <i class="fa-solid fa-key mr-2"></i>
                เปลี่ยนรหัสผ่าน
            </button>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const scrollContainer = document.querySelector('.scroll-container');
            
            let isDown = false;
            let startX;
            let scrollLeft;
            
            scrollContainer.addEventListener('mousedown', (e) => {
                isDown = true;
                scrollContainer.classList.add('active');
                startX = e.pageX - scrollContainer.offsetLeft;
                scrollLeft = scrollContainer.scrollLeft;
            });
            
            scrollContainer.addEventListener('mouseleave', () => {
                isDown = false;
                scrollContainer.classList.remove('active');
            });
            
            scrollContainer.addEventListener('mouseup', () => {
                isDown = false;
                scrollContainer.classList.remove('active');
            });
            
            scrollContainer.addEventListener('mousemove', (e) => {
                if(!isDown) return;
                e.preventDefault();
                const x = e.pageX - scrollContainer.offsetLeft;
                const walk = (x - startX) * 2;
                scrollContainer.scrollLeft = scrollLeft - walk;
            });
        });

        function openPopup() {
            document.getElementById('popup').classList.remove('hidden');
        }

        function closePopup() {
            document.getElementById('popup').classList.add('hidden');
        }
    </script>
</body>
</html>