<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>sidebar</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <!-- <script src="./tailwind3.js"></script> -->
  <link
    href="https://fonts.googleapis.com/css2?family=Kanit:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap"
    rel="stylesheet">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.7.2/font/bootstrap-icons.css">
</head>

<body class="font-[kanit]">
  <span class="fixed z-[9999] text-white text-4xl top-5 left-4 cursor-pointer lg:hidden" onclick="Openbar()">
    <i class="bi bi-filter-left px-2 bg-gray-900 rounded-md "></i>
  </span>
  <div class="sidebar fixed top-0 bottom-0 lg:left-0 left-[-300px] duration-1000
  p-2 max-w-[300px] w-full overflow-y-auto text-center bg-[#1B1D36] shadow h-screen flex flex-col justify-between ">

    <div class="text-white p-2">
      <div class="p-2.5 mt-1 flex items-center rounded-md mb-4">
        <img src="pets.png" alt="" class="w-[4vh]">
        <h1 class="text-[3vh] ml-3 text-white font-bold i">PetEz</h1>
        <i class="bi bi-x mr-2 cursor-pointer lg:hidden mx-auto text-[4.5vh]" onclick="Openbar()"></i>
      </div>
      <hr class="my-4 text-gray-600">

      <div>
        <a href="admin_home.html" class="p-2.5 mt-2 flex items-center rounded-md px-4 duration-300 cursor-pointer hover:bg-[#2b2f4b]">
          <i class="bi bi-house-door-fill text-[3vh]"></i>
          <span class="text-[2.2vh] ml-4 text-gray-200">Home</span>
        </a>
        <a href="admin_manage_user.html" href="#" class="p-2.5 mt-2 flex items-center rounded-sm px-4 duration-300 cursor-pointer bg-[#2b2f4b] border-l-4 border-l-orange-600">
          <i class="bi bi-people-fill text-[3vh]"></i>
          <span class="text-[2.2vh] ml-4 text-gray-200">Users</span>
        </a>
        <a href="admin_approval.html" class="p-2.5 mt-2 flex items-center rounded-md px-4 duration-300 cursor-pointer hover:bg-[#2b2f4b]">
          <i class="bi bi-envelope-check-fill text-[3vh]"></i>
          <span class="text-[2.2vh] ml-4 text-gray-200">Approvals</span>
        </a>
        <a href="admin_booking.html" class="p-2.5 mt-2 flex items-center rounded-md px-4 duration-300 cursor-pointer hover:bg-[#2b2f4b]">
          <i class="bi bi-calendar-check text-[3vh]"></i>
          <span class="text-[2.2vh] ml-4 text-gray-200">Bookings</span>
        </a>



      </div>
    </div>

    <div class="p-2.5 mt-auto  items-center  px-4 ">
      <hr class="my-2 text-gray-600">
      <div class="p-2.5 mt-2 flex items-center rounded-md ">
        <img src="profile.png" alt="" class="w-[4vh] object-fit">
        <p class="text-[2.2vh] ml-3 text-xl text-gray-200 font-semibold">ผู้ดูแลระบบ</p>
      </div>
      <div class="p-2 flex items-center duration-300 cursor-pointer hover:bg-blue-600 rounded-md bg-[#2b2f4b] mt-2">
        <i class="bi bi-box-arrow-in-right text-white text-[3vh]"></i>
        <span class="text-[2.2vh] ml-4 text-gray-200">ออกจากระบบ</span>
      </div>
    </div>
  </div>

  <div class="ml-[310px] max-[1024px]:m-4 max-[1024px]:mt-20 lg:pt-4 lg:px-6">
    <div>
      <p class="text-[#000000] text-[4vh]">จัดการผู้ใช้</p>
      <p class="text-[#6E6E6E] text-[2.3vh]">ผู้ใช้และพี่เลี้ยงทั้งหมดของระบบ</p>
    </div>

    <div class="mt-7 text-[2.3vh]">
      <div class="shadow-sm p-3 rounded-lg border border-gray-200 w-fit bg-[#EDEDED]">
        <a href="" class="bg-white rounded-lg mr-4 px-5 py-1">Users</a>
        <a href="" class="text-gray-600 px-5 py-1 rounded-lg">Pet Sitter</a>
        <!-- ใส่ class="bg-white shadow-md p-1 rounded-md border border-gray-300" หน้า petsitter เอา class user ออก -->
      </div>
    </div>

    <div class="p-5 min-h-screen bg-white border border-gray-200 rounded-xl mt-4 mb-6">

      <div class="overflow-auto rounded-lg shadow hidden md:block">
        <table class="w-full">
          <thead class="bg-gray-50 border-b-2 border-gray-200">
            <tr>
              <th class="w-20 p-3 text-[1.2rem] font-medium tracking-wide text-left text-gray-600">ID</th>
              <th class="p-3 text-[1.2rem] font-medium tracking-wide text-left text-gray-600">Name</th>
              <th class="p-3 text-[1.2rem] font-medium tracking-wide text-left text-gray-600">Email</th>
              <th class="p-3 text-[1.2rem] font-medium tracking-wide text-left text-gray-600">Phone</th>
              <th class="w-24 p-3 text-[1.2rem] font-medium tracking-wide text-left text-gray-600">Status</th>
              <th class="w-30 p-3 text-[1.2rem] font-medium tracking-wide text-left text-gray-600">Start Date</th>
              <th class=" p-3 text-[1.2rem] font-medium tracking-wide text-left text-gray-600">Action</th>
            </tr>
          </thead>
          <tbody class="divide-y divide-gray-100">
            <tr class="bg-white">
              <td class="p-3 text-[2vh] text-gray-700 whitespace-nowrap">
                <p href="#" class="hover:underline">10001</p>
              </td>
              <td class="p-3 text-[2vh] text-gray-700 whitespace-nowrap">
                Kittipich Hirunwong
              </td>
              <td class="p-3 text-[2vh] text-gray-700 whitespace-nowrap">
                66070018@kmitl.ac.th
              </td>
              <td class="p-3 text-[2vh] text-gray-700 whitespace-nowrap">
                087-716-0351
              </td>
              <td class="p-3 text-[2vh] text-gray-700 whitespace-nowrap">
                <span 
                  class="accountStatus p-1.5 text-[1.7vh] font-medium  tracking-wider text-white bg-red-600 rounded-lg ">ถูกระงับ</span>
              </td>
              <td class="p-3 text-[2vh] text-gray-700 whitespace-nowrap">16/10/2021</td>
              <td class="p-3 text-[2vh] text-gray-700 whitespace-nowrap justify-center flex">
                <div>
                  <div onclick="toggleDropdown(event)">
                    <i class="bi bi-three-dots-vertical cursor-pointe"></i>
                  </div>
                  <div  class="dropDown absolute rounded-xl border bg-white p-3 right-20 select-none hidden">
                    <button onclick="changeStatus('active',this)"
                      class="flex text-[2vh] mb-2 cursor-pointer hover:bg-gray-100 p-2 rounded-xl">
                      <i class="bi bi-power mr-1"></i>
                      <p>Activate Account</p>
                    </button>
                    <button onclick="changeStatus('suspend',this)"
                      class="flex text-[2vh] mb-2 cursor-pointer hover:bg-gray-100 p-2 rounded-xl">
                      <i class="bi bi-x-circle mr-1 "></i>
                      <p>Suspend Account</p>
                    </button>
                    <button onclick="changeStatus('delete',this)"
                      class="flex text-[2vh] text-red-500 cursor-pointer hover:bg-gray-100 p-2 rounded-xl">
                      <i class="bi bi-trash-fill mr-1 "></i>
                      <p>Delete Account</p>
                    </button>
                  </div>
                </div>
              </td>
            </tr>
          </tbody>
        </table>
      </div>

      <div class="grid grid-cols-1  gap-4 md:hidden">
        <div class="res bg-white space-y-3 p-4 rounded-lg shadow-lg">
          <div class="flex">
            <div class="flex items-center space-x-4 text-[2vh]">
              <div>
                <p href="#" class="text-blue-500 font-bold hover:underline">ID:1000</p>
              </div>
              <div class="text-gray-500">10/10/2021</div>
              <div>
                <span 
                  class="accountStatus p-1.5 text-[1.7vh] font-medium  tracking-wider text-white bg-[#334DCC] rounded-lg ">กำลังใช้งาน</span>
              </div>
            </div>
            <div class="ml-auto">
              <div class="">
                <div onclick="toggleDropdown(event)">
                  <i class="bi bi-three-dots-vertical cursor-pointe"></i>
                </div>
                <div  class="dropDown absolute rounded-xl border bg-white p-3 right-10 select-none hidden">
                  <button onclick="changeStatus('active',this)"
                    class="flex text-[2vh] mb-2 cursor-pointer hover:bg-gray-100 p-2 rounded-xl">
                    <i class="bi bi-power mr-1"></i>
                    <p>Activate Account</p>
                  </button>
                  <button onclick="changeStatus('suspend',this)"
                    class="flex text-[2vh] mb-2 cursor-pointer hover:bg-gray-100 p-2 rounded-xl">
                    <i class="bi bi-x-circle mr-1 "></i>
                    <p>Suspend Account</p>
                  </button>
                  <button onclick="changeStatus('delete',this)"
                    class="flex text-[2vh] text-red-500 cursor-pointer hover:bg-gray-100 p-2 rounded-xl">
                    <i class="bi bi-trash-fill mr-1 "></i>
                    <p>Delete Account</p>
                  </button>
                </div>
              </div>
            </div>

          </div>

          <div class="text-[2vh] text-gray-700 space-y-2">
            <p>Name: Kittipich Hirunwong</p>
            <p>Email: 66070018@kmitl.ac.th</p>
            <p>Phone: 087-716-0351</p>
          </div>
        </div>

                <div class="res bg-white space-y-3 p-4 rounded-lg shadow-lg">
          <div class="flex">
            <div class="flex items-center space-x-4 text-[2vh]">
              <div>
                <p href="#" class="text-blue-500 font-bold hover:underline">ID:1000</p>
              </div>
              <div class="text-gray-500">10/10/2021</div>
              <div>
                <span 
                  class="accountStatus p-1.5 text-[1.7vh] font-medium  tracking-wider text-white bg-blue-600 rounded-lg ">กำลังใช้งาน</span>
              </div>
            </div>
            <div class="ml-auto">
              <div class="">
                <div onclick="toggleDropdown(event)">
                  <i class="bi bi-three-dots-vertical cursor-pointe"></i>
                </div>
                <div  class="dropDown absolute rounded-xl border bg-white p-3 right-10 select-none hidden">
                  <button onclick="changeStatus('active',this)"
                    class="flex text-[2vh] mb-2 cursor-pointer hover:bg-gray-100 p-2 rounded-xl">
                    <i class="bi bi-power mr-1"></i>
                    <p>Activate Account</p>
                  </button>
                  <button onclick="changeStatus('suspend',this)"
                    class="flex text-[2vh] mb-2 cursor-pointer hover:bg-gray-100 p-2 rounded-xl">
                    <i class="bi bi-x-circle mr-1 "></i>
                    <p>Suspend Account</p>
                  </button>
                  <button onclick="changeStatus('delete',this)"
                    class="flex text-[2vh] text-red-500 cursor-pointer hover:bg-gray-100 p-2 rounded-xl">
                    <i class="bi bi-trash-fill mr-1 "></i>
                    <p>Delete Account</p>
                  </button>
                </div>
              </div>
            </div>

          </div>

          <div class="text-[2vh] text-gray-700 space-y-2">
            <p>Name: Kittipich Hirunwong</p>
            <p>Email: 66070018@kmitl.ac.th</p>
            <p>Phone: 087-716-0351</p>
          </div>
        </div>







      </div>
    </div>



  </div>

  <script>
    // nav
    function dropDown() {
      document.querySelector('#submenu').classList.toggle('hidden')
      document.querySelector('#arrow').classList.toggle('rotate-0')
    }
    dropDown()
    function Openbar() {
      document.querySelector('.sidebar').classList.toggle('left-[-300px]')
    }

    // dropdown
// toggle dropdown menu เฉพาะแถวที่คลิก
  function toggleDropdown(event) {
    event.stopPropagation();
    const btn = event.currentTarget;
    const menu = btn.parentElement.querySelector('.dropDown'); 

    // ซ่อน dropdown อื่นทั้งหมดก่อน
    document.querySelectorAll('.dropDown').forEach(d => {
      if (d !== menu) d.classList.add('hidden');
    });

    // toggle ของปุ่มนี้เท่านั้น
    menu.classList.toggle('hidden');
  }

  function changeStatus(status, button) {
    const container = button.closest('tr') || button.closest('.res'); // หา container ที่ใกล้สุด
    if (!container) return;

    const statusSpan = container.querySelector('.accountStatus');
    const dropdown = container.querySelector('.dropDown');

    if (!statusSpan) return;

    if (status === 'active') {
      statusSpan.textContent = 'กำลังใช้งาน';
      statusSpan.className =
        'accountStatus p-1.5 text-[1.7vh] font-medium tracking-wider text-white bg-blue-600 rounded-lg';
    } else if (status === 'suspend') {
      statusSpan.textContent = 'ถูกระงับ';
      statusSpan.className =
        'accountStatus p-1.5 text-[1.7vh] font-medium tracking-wider text-white bg-red-600 rounded-lg';
    } else if (status === 'delete') {
      statusSpan.textContent = 'ลบบัญชีแล้ว';
      statusSpan.className =
        'accountStatus p-1.5 text-[1.7vh] font-medium tracking-wider text-white bg-gray-500 rounded-lg';
    }

    dropdown.classList.add('hidden');
  }

  // ปิด dropdown ถ้าคลิกนอก
  window.addEventListener('click', () => {
    document.querySelectorAll('.dropDown').forEach(d => d.classList.add('hidden'));
  });
   </script>
</body>

</html>